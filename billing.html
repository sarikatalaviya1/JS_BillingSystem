<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billing System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</head>

<body>
    <!-- Main Container -->
    <div class="container-fluid text-bg-dark">
        <p class="text-center h3">Billing System</p>
        <div class="billing-form container-fluid">
            <form class="row">
                
                <div class="form-group col-4">
                    <label class="form-label">Customer Name</label>
                    <input type="text" id="customer" class="form-control">
                </div>

                <div class="form-group col-4">
                    <label class="form-label">Contact No.</label>
                    <input type="number" id="contact" class="form-control">
                </div>

                <div class="form-group col-4">
                    <label class="frmo-label">Bill No.</label>
                    <input type="text" class="form-control" id="billno" value="1111" readonly>
                </div>

            </form>

            <div class="container-fluid">
                <div class="row mt-5">
                    <div class="col-3">
                        <p class="h4">Snacks</p>
                        <label class="form-label">Nutella Choco Spred</label>
                        <input type="number" class="form-control" id="nutella">
    
                        <label class="form-label">Noodles (1 Pack)</label>
                        <input type="number" class="form-control" id="noodles">
    
                        <label class="form-label">Lays (10Rs.)</label>
                        <input type="number" class="form-control" id="lays">
    
                        <label class="form-label">Oreo (20Rs.)</label>
                        <input type="number" class="form-control" id="oreo">
    
                        <label class="form-label">Chocolate Muffins</label>
                        <input type="number" class="form-control" id="muffin">
    
                        <label class="form-label">Dairy Milk Silk(60Rs.)</label>
                        <input type="number" class="form-control" id="dairyMilk">
    
                        <label class="form-label">Namkeen (15Rs.)</label>
                        <input type="number" class="form-control" id="namkeen">
                    </div>
                    <div class="col-3">
                        <p class="h4">Grocery</p>
                        <label class="form-label">Aashirvaad Atta (1kg)</label>
                        <input type="number" class="form-control" id="atta">
    
                        <label class="form-label">Pasta (1kg)</label>
                        <input type="number" class="form-control" id="pasta">
    
                        <label class="form-label">Basmati Rice (1kg)</label>
                        <input type="number" class="form-control" id="rice">
    
                        <label class="form-label">Sunflower Oil (1ltr)</label>
                        <input type="number" class="form-control" id="oil">
    
                        <label class="form-label">Refined Sugar (1kg)</label>
                        <input type="number" class="form-control" id="sugar">
    
                        <label class="form-label">Daal (1kg)</label>
                        <input type="number" class="form-control" id="daal">
    
                        <label class="form-label">Tea Powder (1kg)</label>
                        <input type="number" class="form-control" id="tea">
                    </div>
                    <div class="col-3">
                        <p class="h4">Beauty & Hygiene</p>
                        <label class="form-label">Bathing Soap</label>
                        <input type="number" class="form-control" id="soap">
    
                        <label class="form-label">Shampoo (1ltr)</label>
                        <input type="number" class="form-control" id="shampoo">
    
                        <label class="form-label">Body Lotion (1ltr)</label>
                        <input type="number" class="form-control" id="lotion">
    
                        <label class="form-label">Face Cream</label>
                        <input type="number" class="form-control" id="cream">
    
                        <label class="form-label">Shaving Foam</label>
                        <input type="number" class="form-control" id="foam">
    
                        <label class="form-label">Face Mask (1 piece)</label>
                        <input type="number" class="form-control" id="mask">
    
                        <label class="form-label">Hand Sanitizer (50ml)</label>
                        <input type="number" class="form-control" id="sanitizer">
                    </div>
    
                    <div class="col-3 mt-3">
                        <button class="btn btn-primary w-100 mt-5">Bill Area</button>
                        <p class="h6 text-center py-3">WELCOME TO SUPER MARKET </p>
                        <p>Bill No. : <span id="bill_no"></span></p>
                        <p>Customer Name: <span id="customer_name"></span></p>
                        <p>Phone No. :<span id="phone_no"></span></p>
    
                        <table class="table table-bordered  table-hover">
                            <thead>
                                <tr>
                                    <th class="col">Product</th>
                                    <th class="col">Quentity</th>
                                    <th class="col">Price</th>
                                </tr>
    
                            </thead>
                            <tbody>
    
                            </tbody>
                          
                        </table>
                    </div>
                </div>
    
            </div>
       



        </div>

        <!-- Total -->
        <div class="container-fluid py-5">
            <p class="text-center h3">Billing Summary</p>
            <div class="row">
                <div class="col-3">
                    <div class="form-group ">
                        <label class="form-label">Total Snacks Price</label>
                        <input type="number" id="snack_price" class="form-control">
                    </div>
                    <div class="form-group ">
                        <label class="form-label">Total Grocery Price</label>
                        <input type="number" id="grocery_price" class="form-control">
                    </div>
                    <div class="form-group ">
                        <label class="form-label">Total Beauty & Hygiene Price</label>
                        <input type="number" id="beauty_price" class="form-control">
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group ">
                        <label class="form-label">Total Snacks Tax</label>
                        <input type="number" id="snack_tax" class="form-control">
                    </div>
                    <div class="form-group ">
                        <label class="form-label">Total Grocery Tax</label>
                        <input type="number" id="grocery_tax" class="form-control">
                    </div>
                    <div class="form-group ">
                        <label class="form-label">Total Beauty & Hygiene Price</label>
                        <input type="number" id="beauty_tax" class="form-control">
                    </div>
                </div>
                <div class="col-3 text-center">
                    <label class="form-label">Grand Total</label>
                    <input type="number" id="finalBill" class="form-control">
                    <button onclick="Bill()" class="btn btn-primary mt-4">Total Bill</button>
                    <button onclick="clearInput()" class="btn btn-primary mt-4">Clear</button>
                    <button onclick="closeWindow()" class="btn btn-primary mt-4 ">Exit</button>
                </div>

            </div>

        </div>

    </div>

    </div>

    <script>
        // ItemPrice
        const prices = {
            nutella: 215,
            noodles: 27,
            lays: 10,
            oreo: 25,
            muffin: 30,
            namkeen: 15,
            dairyMilk: 85,

            atta: 50,
            pasta: 40,
            rice: 65,
            oil: 120,
            sugar: 42,
            daal: 50,
            tea: 90,

            soap: 35,
            shampoo: 120,
            lotion: 120,
            cream: 145,
            foam: 90,
            mask: 35,
            sanitizer: 50
        };

        // Tax
        const tax = {
            snacks: 0.05,
            grocery: 0.03,
            beautyHygiene: 0.12
        };

        // Total Bill
        function Bill() {
            let snackPrice = 0;
            let groceryPrice = 0;
            let beautyHygienePrice = 0;
            let snackCount = 0;
            let groceryCount=0;
            let beautyCount = 0;


            // snacks Count
            const snackItems = ['nutella', 'noodles', 'lays', 'oreo', 'muffin', 'dairyMilk', 'namkeen'];
            
            for (const snack of snackItems) {
                const quantity = parseInt(document.getElementById(snack).value) || 0;
                if (quantity > 0) {
                    snackCount++; 
                    if (snackCount > 3) {
                        alert('You can only order a maximum of 3 snacks.');
                        return; 
                    }
                    snackPrice += quantity * prices[snack];
                }
            }
            
            // grocery items
            const groceryItems = ['atta', 'pasta', 'rice', 'oil', 'sugar', 'daal', 'tea'];
            for (const item of groceryItems) {
                const quantity = parseInt(document.getElementById(item).value) || 0;
                if (quantity > 0) {
                    groceryCount++;
                }
            }

            if (groceryCount > 3) {
                alert('You must order exactly 3 grocery items.');
                return false;
            }


            // beauty Count
            const beautyItems = ['soap', 'shampoo', 'lotion', 'cream', 'foam', 'mask', 'sanitizer'];

             for (const item of beautyItems) {
                const quantity = parseInt(document.getElementById(item).value) || 0;
                if (quantity > 0) {
                    beautyCount++;
                }
            }

            if (beautyCount > 3) {
                alert('You must order exactly 3 beauty & hygiene products.');
                return false;
            }

         


            const snacksTax = snackPrice * tax.snacks;
            const groceryTax = groceryPrice * tax.grocery;
            const beautyHygieneTax = beautyHygienePrice * tax.beautyHygiene;

            document.getElementById('snack_price').value = snackPrice.toFixed(2);
            document.getElementById('snack_tax').value = snacksTax.toFixed(2);
            document.getElementById('grocery_price').value = groceryPrice.toFixed(2);
            document.getElementById('grocery_tax').value = groceryTax.toFixed(2);
            document.getElementById('beauty_price').value = beautyHygienePrice.toFixed(2);
            document.getElementById('beauty_tax').value = beautyHygieneTax.toFixed(2);

            let cname = document.getElementById("customer").value
            let billno = document.getElementById("billno").value
            let con = document.getElementById("contact").value
            document.getElementById("customer_name").innerText = cname
            document.getElementById("bill_no").innerText = billno
            document.getElementById("phone_no").innerText = con


            let finalTotal = snackPrice + snacksTax + groceryPrice + groceryTax + beautyHygienePrice + beautyHygieneTax
            document.getElementById("finalBill").value = finalTotal

            const tableBody = document.querySelector('.table tbody');
            tableBody.innerHTML = '';

            for (const product in prices) {
                const quantity = parseInt(document.getElementById(product).value) || 0;
                if (quantity > 0) {
                  
                    const row = tableBody.insertRow();

                    const productNameCell = row.insertCell(0);
                    productNameCell.textContent = product;

                    const quantityCell = row.insertCell(1);
                    quantityCell.textContent = quantity;

                    const priceCell = row.insertCell(2);
                    priceCell.textContent = (quantity * prices[product]).toFixed(2);
                }
            }




        }

        // clear Inputs
        function clearInput() {
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => input.value = '');
            document.getElementById('customerName').value = '';
            document.getElementById('contactNo').value = '';
            document.getElementById('billArea').innerHTML = '';
            document.getElementById('snackPrice').innerText = '';
            document.getElementById('snacksTax').innerText = '';
            document.getElementById('groceryPrice').innerText = '';
            document.getElementById('groceryTax').innerText = '';
            document.getElementById('beautyHygienePrice').innerText = '';
            document.getElementById('beautyHygieneTax').innerText = '';
        }

        function closeWindow() {
            window.close();
        }
    </script>
</body>

</html>